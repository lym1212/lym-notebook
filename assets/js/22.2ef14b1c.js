(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{294:function(t,s,a){"use strict";a.r(s);var e=a(14),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"elementui"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elementui"}},[t._v("#")]),t._v(" elementUI")]),t._v(" "),s("h2",{attrs:{id:"el-dialog"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#el-dialog"}},[t._v("#")]),t._v(" el-dialog")]),t._v(" "),s("h3",{attrs:{id:"destroy-on-close"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#destroy-on-close"}},[t._v("#")]),t._v(" destroy-on-close")]),t._v(" "),s("p",[t._v("关闭时销毁 "),s("code",[t._v("Dialog")]),t._v(" 中的元素，把这个属性改为"),s("code",[t._v("true")]),t._v("时并没有生效")]),t._v(" "),s("p",[t._v("在添加员工时，员工编号的输入框是根据员工编号规则是否启用来确定是否禁用的，如果在启用/禁用员工编号规则前打开了弹框，表单的验证规则不会正确绑定，因为元素没有销毁，"),s("code",[t._v("destroy-on-close")]),t._v("属性没有生效")]),t._v(" "),s("p",[s("strong",[t._v("解决方法：给"),s("code",[t._v("dialog")]),t._v("添加"),s("code",[t._v("v-if")]),t._v("（但是这样打开弹框时会闪一下）")])]),t._v(" "),s("p",[t._v("如果在el-dialog使用v-if，直接改变visible绑定的变量时不会触发close事件")]),t._v(" "),s("h3",{attrs:{id:"close事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#close事件"}},[t._v("#")]),t._v(" close事件")]),t._v(" "),s("p",[t._v("点击"),s("code",[t._v("dialog")]),t._v("右上角的叉，直接改变弹框绑定的"),s("code",[t._v("visible")]),t._v("字段为"),s("code",[t._v("false")]),t._v("不会触发"),s("code",[t._v("close")]),t._v("事件，当需要在关闭弹框时做一些操作时，例如：清楚验证，重置表单等，不能只写在"),s("code",[t._v("close")]),t._v("事件里；在打开弹框时做这些操作页面显示不友好，会让用户看到上一个表单内容（附件等）")]),t._v(" "),s("h2",{attrs:{id:"el-select"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#el-select"}},[t._v("#")]),t._v(" el-select")]),t._v(" "),s("p",[t._v("当点开一个"),s("code",[t._v("el-select")]),t._v("下拉框时，再在同一个页面点击"),s("code",[t._v("treeselect")]),t._v("下拉框时，没有触发"),s("code",[t._v("el-select")]),t._v("的失去焦点事件，"),s("code",[t._v("el-select")]),t._v("的下拉框不会关闭。")]),t._v(" "),s("p",[s("strong",[t._v("解决方法：监听"),s("code",[t._v("treeselect")]),t._v("的"),s("code",[t._v("open")]),t._v("事件，手动关闭其他的"),s("code",[t._v("el-select")]),t._v("下拉框。"),s("code",[t._v("el-date-picker")]),t._v("同理，但是要调用"),s("code",[t._v("hidePicker")]),t._v("方法")])]),t._v(" "),s("h2",{attrs:{id:"messagebox"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#messagebox"}},[t._v("#")]),t._v(" MessageBox")]),t._v(" "),s("p",[s("code",[t._v("MessageBox.alert")]),t._v("不能关闭，不会触发"),s("code",[t._v("then")]),t._v("和"),s("code",[t._v("catch")]),t._v("，"),s("code",[t._v("beforeClose")]),t._v("也不会执行，导致弹框一直存在，需要手动关闭，"),s("code",[t._v("MessageBox.close()")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user/resetToken'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("messageBoxFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" MessageBox"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    messageBoxFlag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MessageBox"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'提示'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("showClose")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("showCancelButton")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("showConfirmButton")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"el-input"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#el-input"}},[t._v("#")]),t._v(" el-input")]),t._v(" "),s("p",[t._v("控制一个"),s("code",[t._v("el-input")]),t._v("只能输入数字时，如果使用"),s("code",[t._v("oninput")]),t._v("，使用中文输入法的时候会覆盖"),s("code",[t._v("v-model")]),t._v("，这个输入框的双向绑定会失效，还会覆盖已经输入的数字，导致校验失效。\n"),s("strong",[t._v("解决方法：1 把"),s("code",[t._v("oninput")]),t._v("替换为"),s("code",[t._v("onchange")]),t._v("。2 使用"),s("code",[t._v("onkeyup")]),t._v("和"),s("code",[t._v("blur")]),t._v("事件（"),s("code",[t._v("$event.target.value")]),t._v("）")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("el-input")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token special-attr"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onChange")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token value javascript language-javascript"}},[t._v("value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[^\\d]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("g")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("el-input")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token special-attr"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onkeyup")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token value javascript language-javascript"}},[t._v("value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[^\\d]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("g")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@blur")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("count=$event.target.value,userCountChagne(temp.userCount)"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);